
<head>
	<title>JANRAIN LOGIN</title>
	<script type="text/javascript">
		(function() {
		    if (typeof window.janrain !== 'object') window.janrain = {};
		    if (typeof window.janrain.settings !== 'object') window.janrain.settings = {};
		    
		    /* _______________ can edit below this line _______________ */
		    //Site is live so the Token URL is set to the website
		    janrain.settings.tokenUrl = 'http://www.michaelpmontero.com/engage_callback_url';
		    janrain.settings.type = 'modal';
		    janrain.settings.appId = 'hpdanleflcmfgmgcccne';
		    janrain.settings.appUrl = 'https://resumeproj.rpxnow.com';
		    janrain.settings.providers = ["facebook","googleplus"];
		    janrain.settings.providersPerPage = '6';
		    janrain.settings.format = 'two column';
		    janrain.settings.actionText = 'Sign in using your account with';
		    janrain.settings.showAttribution = true;
		    janrain.settings.fontColor = '#333333';
		    janrain.settings.fontFamily = 'arial';
		    janrain.settings.backgroundColor = '#FFFFFF';
		    janrain.settings.width = '392';
		    janrain.settings.modalBorderColor = '#000000';
		    janrain.settings.modalBorderRadius = '10';
		    janrain.settings.modalBorderWidth = '10';
		    janrain.settings.modalBorderOpacity = '0.5';
		    janrain.settings.buttonBorderColor = '#CCCCCC';
		    janrain.settings.buttonBorderRadius = '5';
		    janrain.settings.buttonBackgroundStyle = 'gradient';
		    janrain.settings.language = '';
		    janrain.settings.linkClass = 'janrainEngage';

		    /* _______________ can edit above this line _______________ */

		    function isReady() { janrain.ready = true; };
		    if (document.addEventListener) {
		      document.addEventListener("DOMContentLoaded", isReady, false);
		    } else {
		      window.attachEvent('onload', isReady);
		    }

		    var e = document.createElement('script');
		    e.type = 'text/javascript';
		    e.id = 'janrainAuthWidget';

		    if (document.location.protocol === 'https:') {
		      e.src = 'https://rpxnow.com/js/lib/resumeproj/engage.js';
		    } else {
		      e.src = 'http://widget-cdn.rpxnow.com/js/lib/resumeproj/engage.js';
		    }

		    var s = document.getElementsByTagName('script')[0];
		    s.parentNode.insertBefore(e, s);
		})();
</script>
</head>
<body>
	<h1>Janrain Login Practice</h1>

	<a class="janrainEngage" href="#">Sign-In</a>

	<div id="messageContainer">
		<script type="text/javascript">
					function janrainWidgetOnload() {
			  		janrain.events.onProviderLoginToken.addHandler(function(response) {
			    $.ajax({
			      type: "POST",
			      url: "http://localhost:3000/engage_callback_url",
			      data: "token=" + response.token,
			      success: function(res) {
			        var messageContainer = document.getElementById('messageContainer');
			        var name = JSON.parse(res).profile.displayName;
			        messageContainer.innerHTML = '
					<h1>Welcome, ' + name + '</h3>
			';
			      }
			    });
			  }
			}
			janrain.events.onProviderLoginSuccess.addHandler(function(something) {
					log("Login Succcess!");
			});
		</script>
	</div>
	<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
</body>
